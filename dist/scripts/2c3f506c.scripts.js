"use strict";angular.module("christmasApp",["ngCookies","ngResource","ngSanitize","ngRoute","firebase","ngAnimate"]).config(["$routeProvider","$provide",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/admin",{templateUrl:"views/admin.html",controller:"AdminCtrl"}).otherwise({redirectTo:"/"}),b.value("filepicker",filepicker),filepicker.setKey("A24r63xRRxKoCJfFyMrJwz")}]),angular.module("christmasApp").run(function(){}),angular.module("christmasApp").controller("LoadCtrl",["$scope","$rootScope",function(a,b){b.$watch("loadsanta",function(){a.loadsanta=b.loadsanta,console.log("hiioh")})}]),angular.module("christmasApp").controller("MainCtrl",["$scope","angularFire","$rootScope",function(a,b,c){a.checkDate=function(a){return(new Date).getDate<=a},a.calendar=[],a.selectedItem={},b(new Firebase("https://christmas.firebaseio.com/fap"),a,"calendar").then(function(){c.loadsanta=!0}),a.flipCalendar=function(b,c){if(a.calendar[b-1].flipped)return document.getElementById("punch").click(),a.selectedItem.day=b,a.selectedItem.imgUrl=null,a.selectedItem.imgUrl=c,void 0;var d=new Date;return b>d.getDate()?(document.getElementById("fail").click(),void 0):(a.calendar[b-1].flipped=!a.calendar[b-1].flipped,a.selectedItem.day=b,a.selectedItem.imgUrl=null,a.selectedItem.imgUrl=c,setTimeout(function(){document.getElementById("punch").click()},1e3),void 0)};!function(){function a(){var a=document.querySelector(".md-overlay");[].slice.call(document.querySelectorAll(".md-trigger")).forEach(function(b){function c(a){classie.remove(e,"md-show"),a&&classie.remove(document.documentElement,"md-perspective")}function d(){c(classie.has(b,"md-setperspective"))}var e=document.querySelector("#"+b.getAttribute("data-modal"));b.addEventListener("click",function(){classie.add(e,"md-show"),a.removeEventListener("click",d),a.addEventListener("click",d),classie.has(b,"md-setperspective")&&setTimeout(function(){classie.add(document.documentElement,"md-perspective")},25)})})}a()}()}]),angular.module("christmasApp").controller("AdminCtrl",["$rootScope","$scope","$location","Auth","angularFire","Firebase",function(a,b,c,d,e,f){a.loadsanta=!0,b.login=function(a,c){var e=d.login(a,c);b.isLoggedIn=e},b.isLoggedIn=!1,b.pickFile=function(a,c){var d=new f("https://christmas.firebaseio.com/fap/"+(parseInt(a)-1));d.once("value",function(a){b.calendarItem=a.val(),filepicker.pickAndStore({mimetype:"image/*"},{location:"S3"},function(a){var e=a[0];b.imageUrl=e.url,b.calendarItem.imgUrl=b.imageUrl,b.calendarItem.poem=c,d.set(b.calendarItem)})})}}]),angular.module("christmasApp").service("Auth",["$http",function(){var a={isLoggedIn:!1},b=function(){return a.isLoggedIn},c=function(b,c){return"mralmaas@gmail.com"==b&&"eplemoshansen"==c?(a.isLoggedIn=!0,!0):!1},d=function(){a.isLoggedIn=!1};return{isLoggedIn:b,login:c,logout:d}}]);